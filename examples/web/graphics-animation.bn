// ğŸ¨ Advanced Graphics & Animation Example - Ù…Ø«Ø§Ù„ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª ÙˆØ§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
// This example demonstrates Bayan's graphics capabilities
// Ù‡Ø°Ø§ Ø§Ù„Ù…Ø«Ø§Ù„ ÙŠÙˆØ¶Ø­ Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù† ÙÙŠ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª

// ============================================
// English Version - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
// ============================================

// Particle System Class
class Particle {
    constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.vx = (Math.random() - 0.5) * 5;
        this.vy = (Math.random() - 0.5) * 5;
        this.color = color;
        this.size = Math.random() * 5 + 2;
        this.life = 1.0;
        this.decay = Math.random() * 0.02 + 0.01;
    }
    
    update() {
        this.x = this.x + this.vx;
        this.y = this.y + this.vy;
        this.vy = this.vy + 0.1; // Gravity
        this.life = this.life - this.decay;
        return this.life > 0;
    }
    
    draw(ctx) {
        ctx.globalAlpha = this.life;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
    }
}

// Graphics Engine Class
class GraphicsEngine {
    constructor(canvasId) {
        this.canvas = document.getElementById(canvasId);
        this.ctx = this.canvas.getContext('2d');
        this.particles = [];
        this.shapes = [];
        this.animationId = null;
        
        // Set canvas size
        this.resize();
        window.addEventListener('resize', () => this.resize());
        
        // Mouse interaction
        this.canvas.addEventListener('click', (e) => this.createExplosion(e));
    }
    
    resize() {
        this.canvas.width = window.innerWidth;
        this.canvas.height = window.innerHeight;
    }
    
    createExplosion(event) {
        const rect = this.canvas.getBoundingClientRect();
        const x = event.clientX - rect.left;
        const y = event.clientY - rect.top;
        
        const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8'];
        
        for (let i = 0; i < 50; i++) {
            const color = colors[Math.floor(Math.random() * colors.length)];
            this.particles.push(new Particle(x, y, color));
        }
    }
    
    addShape(shape) {
        this.shapes.push(shape);
    }
    
    update() {
        // Update particles
        this.particles = this.particles.filter(p => p.update());
        
        // Update shapes
        for (let shape of this.shapes) {
            if (shape.update) {
                shape.update();
            }
        }
    }
    
    draw() {
        // Clear canvas with fade effect
        this.ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
        
        // Draw shapes
        for (let shape of this.shapes) {
            shape.draw(this.ctx);
        }
        
        // Draw particles
        for (let particle of this.particles) {
            particle.draw(this.ctx);
        }
        
        this.ctx.globalAlpha = 1.0;
    }
    
    animate() {
        this.update();
        this.draw();
        this.animationId = requestAnimationFrame(() => this.animate());
    }
    
    start() {
        this.animate();
    }
    
    stop() {
        if (this.animationId) {
            cancelAnimationFrame(this.animationId);
        }
    }
}

// Animated Circle Shape
class AnimatedCircle {
    constructor(x, y, radius, color) {
        this.x = x;
        this.y = y;
        this.radius = radius;
        this.color = color;
        this.angle = 0;
        this.speed = 0.02;
    }
    
    update() {
        this.angle = this.angle + this.speed;
        this.x = this.x + Math.cos(this.angle) * 2;
        this.y = this.y + Math.sin(this.angle) * 2;
        
        // Bounce off edges
        if (this.x < this.radius || this.x > window.innerWidth - this.radius) {
            this.speed = -this.speed;
        }
    }
    
    draw(ctx) {
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fill();
        
        // Glow effect
        ctx.shadowBlur = 20;
        ctx.shadowColor = this.color;
        ctx.fill();
        ctx.shadowBlur = 0;
    }
}

// Wave Pattern Generator
function* waveGenerator(amplitude, frequency, phase) {
    let t = phase;
    while (true) {
        yield amplitude * Math.sin(frequency * t);
        t = t + 0.1;
    }
}

// Initialize graphics engine
const engine = new GraphicsEngine('graphicsCanvas');

// Add animated shapes
for (let i = 0; i < 5; i++) {
    const x = Math.random() * window.innerWidth;
    const y = Math.random() * window.innerHeight;
    const radius = Math.random() * 30 + 10;
    const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8'];
    const color = colors[i % colors.length];
    
    engine.addShape(new AnimatedCircle(x, y, radius, color));
}

// Start animation
engine.start();

// ============================================
// Arabic Version - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
// ============================================

// ØµÙ†Ù Ø§Ù„Ø¬Ø³ÙŠÙ…
ØµÙ†Ù Ø¬Ø³ÙŠÙ… {
    Ù…Ù†Ø´Ø¦(Ø³, Øµ, Ø§Ù„Ù„ÙˆÙ†) {
        Ù‡Ø°Ø§.Ø³ = Ø³;
        Ù‡Ø°Ø§.Øµ = Øµ;
        Ù‡Ø°Ø§.Ø³Ø±Ø¹Ø©_Ø³ = (Math.random() - 0.5) * 5;
        Ù‡Ø°Ø§.Ø³Ø±Ø¹Ø©_Øµ = (Math.random() - 0.5) * 5;
        Ù‡Ø°Ø§.Ø§Ù„Ù„ÙˆÙ† = Ø§Ù„Ù„ÙˆÙ†;
        Ù‡Ø°Ø§.Ø§Ù„Ø­Ø¬Ù… = Math.random() * 5 + 2;
        Ù‡Ø°Ø§.Ø§Ù„Ø­ÙŠØ§Ø© = 1.0;
        Ù‡Ø°Ø§.Ø§Ù„ØªÙ„Ø§Ø´ÙŠ = Math.random() * 0.02 + 0.01;
    }
    
    Ø¯Ø§Ù„Ø© Ø­Ø¯Ø«() {
        Ù‡Ø°Ø§.Ø³ = Ù‡Ø°Ø§.Ø³ + Ù‡Ø°Ø§.Ø³Ø±Ø¹Ø©_Ø³;
        Ù‡Ø°Ø§.Øµ = Ù‡Ø°Ø§.Øµ + Ù‡Ø°Ø§.Ø³Ø±Ø¹Ø©_Øµ;
        Ù‡Ø°Ø§.Ø³Ø±Ø¹Ø©_Øµ = Ù‡Ø°Ø§.Ø³Ø±Ø¹Ø©_Øµ + 0.1; // Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©
        Ù‡Ø°Ø§.Ø§Ù„Ø­ÙŠØ§Ø© = Ù‡Ø°Ø§.Ø§Ù„Ø­ÙŠØ§Ø© - Ù‡Ø°Ø§.Ø§Ù„ØªÙ„Ø§Ø´ÙŠ;
        Ø§Ø±Ø¬Ø¹ Ù‡Ø°Ø§.Ø§Ù„Ø­ÙŠØ§Ø© > 0;
    }
    
    Ø¯Ø§Ù„Ø© Ø§Ø±Ø³Ù…(Ø§Ù„Ø³ÙŠØ§Ù‚) {
        Ø§Ù„Ø³ÙŠØ§Ù‚.globalAlpha = Ù‡Ø°Ø§.Ø§Ù„Ø­ÙŠØ§Ø©;
        Ø§Ù„Ø³ÙŠØ§Ù‚.fillStyle = Ù‡Ø°Ø§.Ø§Ù„Ù„ÙˆÙ†;
        Ø§Ù„Ø³ÙŠØ§Ù‚.beginPath();
        Ø§Ù„Ø³ÙŠØ§Ù‚.arc(Ù‡Ø°Ø§.Ø³, Ù‡Ø°Ø§.Øµ, Ù‡Ø°Ø§.Ø§Ù„Ø­Ø¬Ù…, 0, Math.PI * 2);
        Ø§Ù„Ø³ÙŠØ§Ù‚.fill();
    }
}

// ØµÙ†Ù Ù…Ø­Ø±Ùƒ Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª
ØµÙ†Ù Ù…Ø­Ø±Ùƒ_Ø±Ø³ÙˆÙ…ÙŠØ§Øª {
    Ù…Ù†Ø´Ø¦(Ù…Ø¹Ø±Ù_Ø§Ù„Ù„ÙˆØ­Ø©) {
        Ù‡Ø°Ø§.Ø§Ù„Ù„ÙˆØ­Ø© = document.getElementById(Ù…Ø¹Ø±Ù_Ø§Ù„Ù„ÙˆØ­Ø©);
        Ù‡Ø°Ø§.Ø§Ù„Ø³ÙŠØ§Ù‚ = Ù‡Ø°Ø§.Ø§Ù„Ù„ÙˆØ­Ø©.getContext('2d');
        Ù‡Ø°Ø§.Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª = [];
        Ù‡Ø°Ø§.Ø§Ù„Ø£Ø´ÙƒØ§Ù„ = [];
        Ù‡Ø°Ø§.Ù…Ø¹Ø±Ù_Ø§Ù„Ø­Ø±ÙƒØ© = Ù„Ø§Ø´ÙŠØ¡;
        
        Ù‡Ø°Ø§.ØºÙŠØ±_Ø§Ù„Ø­Ø¬Ù…();
        window.addEventListener('resize', () => Ù‡Ø°Ø§.ØºÙŠØ±_Ø§Ù„Ø­Ø¬Ù…());
        
        Ù‡Ø°Ø§.Ø§Ù„Ù„ÙˆØ­Ø©.addEventListener('click', (Ø­Ø¯Ø«) => Ù‡Ø°Ø§.Ø£Ù†Ø´Ø¦_Ø§Ù†ÙØ¬Ø§Ø±(Ø­Ø¯Ø«));
    }
    
    Ø¯Ø§Ù„Ø© ØºÙŠØ±_Ø§Ù„Ø­Ø¬Ù…() {
        Ù‡Ø°Ø§.Ø§Ù„Ù„ÙˆØ­Ø©.width = window.innerWidth;
        Ù‡Ø°Ø§.Ø§Ù„Ù„ÙˆØ­Ø©.height = window.innerHeight;
    }
    
    Ø¯Ø§Ù„Ø© Ø£Ù†Ø´Ø¦_Ø§Ù†ÙØ¬Ø§Ø±(Ø§Ù„Ø­Ø¯Ø«) {
        const Ø§Ù„Ù…Ø³ØªØ·ÙŠÙ„ = Ù‡Ø°Ø§.Ø§Ù„Ù„ÙˆØ­Ø©.getBoundingClientRect();
        const Ø³ = Ø§Ù„Ø­Ø¯Ø«.clientX - Ø§Ù„Ù…Ø³ØªØ·ÙŠÙ„.left;
        const Øµ = Ø§Ù„Ø­Ø¯Ø«.clientY - Ø§Ù„Ù…Ø³ØªØ·ÙŠÙ„.top;
        
        const Ø§Ù„Ø£Ù„ÙˆØ§Ù† = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8'];
        
        Ù„ÙƒÙ„ (let Ø¹ = 0; Ø¹ < 50; Ø¹++) {
            const Ø§Ù„Ù„ÙˆÙ† = Ø§Ù„Ø£Ù„ÙˆØ§Ù†[Math.floor(Math.random() * Ø§Ù„Ø£Ù„ÙˆØ§Ù†.length)];
            Ù‡Ø°Ø§.Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª.push(Ø¬Ø¯ÙŠØ¯ Ø¬Ø³ÙŠÙ…(Ø³, Øµ, Ø§Ù„Ù„ÙˆÙ†));
        }
    }
    
    Ø¯Ø§Ù„Ø© Ø£Ø¶Ù_Ø´ÙƒÙ„(Ø§Ù„Ø´ÙƒÙ„) {
        Ù‡Ø°Ø§.Ø§Ù„Ø£Ø´ÙƒØ§Ù„.push(Ø§Ù„Ø´ÙƒÙ„);
    }
    
    Ø¯Ø§Ù„Ø© Ø­Ø¯Ø«() {
        Ù‡Ø°Ø§.Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª = Ù‡Ø°Ø§.Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª.filter(Ø¬ => Ø¬.Ø­Ø¯Ø«());
        
        Ù„ÙƒÙ„ (let Ø´ÙƒÙ„ of Ù‡Ø°Ø§.Ø§Ù„Ø£Ø´ÙƒØ§Ù„) {
            Ø¥Ø°Ø§ (Ø´ÙƒÙ„.Ø­Ø¯Ø«) {
                Ø´ÙƒÙ„.Ø­Ø¯Ø«();
            }
        }
    }
    
    Ø¯Ø§Ù„Ø© Ø§Ø±Ø³Ù…() {
        Ù‡Ø°Ø§.Ø§Ù„Ø³ÙŠØ§Ù‚.fillStyle = 'rgba(0, 0, 0, 0.1)';
        Ù‡Ø°Ø§.Ø§Ù„Ø³ÙŠØ§Ù‚.fillRect(0, 0, Ù‡Ø°Ø§.Ø§Ù„Ù„ÙˆØ­Ø©.width, Ù‡Ø°Ø§.Ø§Ù„Ù„ÙˆØ­Ø©.height);
        
        Ù„ÙƒÙ„ (let Ø´ÙƒÙ„ of Ù‡Ø°Ø§.Ø§Ù„Ø£Ø´ÙƒØ§Ù„) {
            Ø´ÙƒÙ„.Ø§Ø±Ø³Ù…(Ù‡Ø°Ø§.Ø§Ù„Ø³ÙŠØ§Ù‚);
        }
        
        Ù„ÙƒÙ„ (let Ø¬Ø³ÙŠÙ… of Ù‡Ø°Ø§.Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª) {
            Ø¬Ø³ÙŠÙ….Ø§Ø±Ø³Ù…(Ù‡Ø°Ø§.Ø§Ù„Ø³ÙŠØ§Ù‚);
        }
        
        Ù‡Ø°Ø§.Ø§Ù„Ø³ÙŠØ§Ù‚.globalAlpha = 1.0;
    }
    
    Ø¯Ø§Ù„Ø© Ø­Ø±Ùƒ() {
        Ù‡Ø°Ø§.Ø­Ø¯Ø«();
        Ù‡Ø°Ø§.Ø§Ø±Ø³Ù…();
        Ù‡Ø°Ø§.Ù…Ø¹Ø±Ù_Ø§Ù„Ø­Ø±ÙƒØ© = requestAnimationFrame(() => Ù‡Ø°Ø§.Ø­Ø±Ùƒ());
    }
    
    Ø¯Ø§Ù„Ø© Ø§Ø¨Ø¯Ø£() {
        Ù‡Ø°Ø§.Ø­Ø±Ùƒ();
    }
}

