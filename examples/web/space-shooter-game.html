<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎮 Space Shooter - لعبة حرب الفضاء | Bayan Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0f0f1e 0%, #1a1a3e 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            color: white;
            overflow: hidden;
        }
        
        .game-container {
            position: relative;
            margin: 20px;
        }
        
        #gameCanvas {
            border: 3px solid #00ff00;
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.5);
            background: #000;
            display: block;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            animation: glow 2s ease-in-out infinite;
        }
        
        .header h1 {
            font-size: 48px;
            color: #00ff00;
            text-shadow: 0 0 20px rgba(0, 255, 0, 0.8);
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 18px;
            color: #4ECDC4;
        }
        
        .controls-info {
            background: rgba(0, 0, 0, 0.9);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            border: 2px solid #00ff00;
            max-width: 800px;
        }
        
        .controls-info h3 {
            color: #00ff00;
            margin-bottom: 15px;
            font-size: 24px;
            text-align: center;
        }
        
        .controls-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .control-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(0, 255, 0, 0.1);
            border-radius: 8px;
        }
        
        .key {
            background: #00ff00;
            color: #000;
            padding: 8px 12px;
            border-radius: 5px;
            font-weight: bold;
            min-width: 80px;
            text-align: center;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        
        .action {
            color: #4ECDC4;
            font-size: 14px;
        }
        
        .features {
            background: rgba(0, 0, 0, 0.9);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            border: 2px solid #4ECDC4;
            max-width: 800px;
        }
        
        .features h3 {
            color: #4ECDC4;
            margin-bottom: 15px;
            font-size: 24px;
            text-align: center;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        
        .feature-item {
            text-align: center;
            padding: 15px;
            background: rgba(78, 205, 196, 0.1);
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .feature-item:hover {
            background: rgba(78, 205, 196, 0.2);
            transform: translateY(-5px);
        }
        
        .feature-item .emoji {
            font-size: 32px;
            display: block;
            margin-bottom: 10px;
        }
        
        .feature-item .text {
            color: #fff;
            font-size: 14px;
        }
        
        @keyframes glow {
            0%, 100% {
                text-shadow: 0 0 20px rgba(0, 255, 0, 0.8);
            }
            50% {
                text-shadow: 0 0 40px rgba(0, 255, 0, 1);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }
        
        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        
        .bayan-badge {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            padding: 15px 25px;
            border-radius: 25px;
            font-weight: bold;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            animation: pulse 3s ease-in-out infinite;
        }
        
        .stats {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.9);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #00ff00;
            min-width: 200px;
        }
        
        .stats h4 {
            color: #00ff00;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            color: #4ECDC4;
        }
        
        .stat-value {
            color: #fff;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="bayan-badge">
        🚀 Built with Bayan - مبني بلغة البيان
    </div>
    
    <div class="stats">
        <h4>📊 Game Stats</h4>
        <div class="stat-item">
            <span>Score:</span>
            <span class="stat-value" id="scoreDisplay">0</span>
        </div>
        <div class="stat-item">
            <span>Health:</span>
            <span class="stat-value" id="healthDisplay">100</span>
        </div>
        <div class="stat-item">
            <span>Enemies:</span>
            <span class="stat-value" id="enemiesDisplay">0</span>
        </div>
        <div class="stat-item">
            <span>Wave:</span>
            <span class="stat-value" id="waveDisplay">1</span>
        </div>
    </div>
    
    <div class="header">
        <h1>🎮 SPACE SHOOTER</h1>
        <p>حرب الفضاء - Complete Game Built with Bayan Language</p>
    </div>
    
    <div class="game-container">
        <canvas id="gameCanvas"></canvas>
    </div>
    
    <div class="controls-info">
        <h3>🎮 Controls - التحكم</h3>
        <div class="controls-grid">
            <div class="control-item">
                <div class="key">↑ W</div>
                <div class="action">Move Up - تحرك للأعلى</div>
            </div>
            <div class="control-item">
                <div class="key">↓ S</div>
                <div class="action">Move Down - تحرك للأسفل</div>
            </div>
            <div class="control-item">
                <div class="key">← A</div>
                <div class="action">Move Left - تحرك لليسار</div>
            </div>
            <div class="control-item">
                <div class="key">→ D</div>
                <div class="action">Move Right - تحرك لليمين</div>
            </div>
            <div class="control-item">
                <div class="key">SPACE</div>
                <div class="action">Shoot - اطلق النار</div>
            </div>
            <div class="control-item">
                <div class="key">R</div>
                <div class="action">Restart - إعادة البدء</div>
            </div>
        </div>
    </div>
    
    <div class="features">
        <h3>✨ Game Features - ميزات اللعبة</h3>
        <div class="features-grid">
            <div class="feature-item">
                <span class="emoji">🚀</span>
                <span class="text">Player Spaceship<br>سفينة اللاعب</span>
            </div>
            <div class="feature-item">
                <span class="emoji">👾</span>
                <span class="text">Enemy AI<br>ذكاء العدو</span>
            </div>
            <div class="feature-item">
                <span class="emoji">💥</span>
                <span class="text">Explosions<br>انفجارات</span>
            </div>
            <div class="feature-item">
                <span class="emoji">🎯</span>
                <span class="text">Collision Detection<br>كشف التصادم</span>
            </div>
            <div class="feature-item">
                <span class="emoji">⭐</span>
                <span class="text">Particle Effects<br>تأثيرات الجسيمات</span>
            </div>
            <div class="feature-item">
                <span class="emoji">🏆</span>
                <span class="text">Score System<br>نظام النقاط</span>
            </div>
            <div class="feature-item">
                <span class="emoji">❤️</span>
                <span class="text">Health System<br>نظام الصحة</span>
            </div>
            <div class="feature-item">
                <span class="emoji">🌊</span>
                <span class="text">Wave System<br>نظام الموجات</span>
            </div>
            <div class="feature-item">
                <span class="emoji">🎨</span>
                <span class="text">Visual Effects<br>تأثيرات بصرية</span>
            </div>
        </div>
    </div>
    
    <script>
        // Compiled from Bayan code - مترجم من كود البيان
        
        class Player {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.width = 50;
                this.height = 50;
                this.speed = 5;
                this.health = 100;
                this.maxHealth = 100;
                this.bullets = [];
                this.score = 0;
                this.color = '#00ff00';
            }
            
            moveLeft() {
                if (this.x > 0) {
                    this.x -= this.speed;
                }
            }
            
            moveRight(canvasWidth) {
                if (this.x + this.width < canvasWidth) {
                    this.x += this.speed;
                }
            }
            
            moveUp() {
                if (this.y > 0) {
                    this.y -= this.speed;
                }
            }
            
            moveDown(canvasHeight) {
                if (this.y + this.height < canvasHeight) {
                    this.y += this.speed;
                }
            }
            
            shoot() {
                const bullet = new Bullet(
                    this.x + this.width / 2 - 2,
                    this.y,
                    -10,
                    '#00ff00'
                );
                this.bullets.push(bullet);
            }
            
            update(canvasHeight) {
                this.bullets = this.bullets.filter(bullet => {
                    bullet.update();
                    return bullet.y > 0;
                });
            }
            
            draw(ctx) {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.moveTo(this.x + this.width / 2, this.y);
                ctx.lineTo(this.x, this.y + this.height);
                ctx.lineTo(this.x + this.width, this.y + this.height);
                ctx.closePath();
                ctx.fill();
                
                ctx.fillStyle = '#ff6600';
                ctx.fillRect(this.x + 10, this.y + this.height, 10, 5);
                ctx.fillRect(this.x + 30, this.y + this.height, 10, 5);
                
                for (let bullet of this.bullets) {
                    bullet.draw(ctx);
                }
                
                this.drawHealthBar(ctx);
            }
            
            drawHealthBar(ctx) {
                const barWidth = 50;
                const barHeight = 5;
                const barX = this.x;
                const barY = this.y - 10;
                
                ctx.fillStyle = '#333';
                ctx.fillRect(barX, barY, barWidth, barHeight);
                
                const healthWidth = (this.health / this.maxHealth) * barWidth;
                ctx.fillStyle = this.health > 50 ? '#00ff00' : '#ff0000';
                ctx.fillRect(barX, barY, healthWidth, barHeight);
            }
            
            takeDamage(amount) {
                this.health -= amount;
                if (this.health < 0) this.health = 0;
            }
            
            isAlive() {
                return this.health > 0;
            }
        }
        
        class Enemy {
            constructor(x, y, type) {
                this.x = x;
                this.y = y;
                this.width = 40;
                this.height = 40;
                this.speed = 2 + Math.random() * 2;
                this.health = type === 'boss' ? 50 : 10;
                this.maxHealth = this.health;
                this.type = type;
                this.color = type === 'boss' ? '#ff0000' : '#ff6b6b';
                this.bullets = [];
                this.shootTimer = 0;
                this.shootInterval = 60 + Math.random() * 60;
            }
            
            update(canvasHeight) {
                this.y += this.speed;
                
                this.shootTimer++;
                if (this.shootTimer > this.shootInterval) {
                    this.shoot();
                    this.shootTimer = 0;
                }
                
                this.bullets = this.bullets.filter(bullet => {
                    bullet.update();
                    return bullet.y < canvasHeight;
                });
            }
            
            shoot() {
                const bullet = new Bullet(
                    this.x + this.width / 2 - 2,
                    this.y + this.height,
                    5,
                    '#ff0000'
                );
                this.bullets.push(bullet);
            }
            
            draw(ctx) {
                ctx.fillStyle = this.color;
                ctx.fillRect(this.x, this.y, this.width, this.height);
                
                ctx.fillStyle = '#fff';
                ctx.fillRect(this.x + 10, this.y + 10, 8, 8);
                ctx.fillRect(this.x + 22, this.y + 10, 8, 8);
                
                for (let bullet of this.bullets) {
                    bullet.draw(ctx);
                }
                
                if (this.type === 'boss') {
                    this.drawHealthBar(ctx);
                }
            }
            
            drawHealthBar(ctx) {
                const barWidth = 40;
                const barHeight = 4;
                const barX = this.x;
                const barY = this.y - 8;
                
                ctx.fillStyle = '#333';
                ctx.fillRect(barX, barY, barWidth, barHeight);
                
                const healthWidth = (this.health / this.maxHealth) * barWidth;
                ctx.fillStyle = '#ff0000';
                ctx.fillRect(barX, barY, healthWidth, barHeight);
            }
            
            takeDamage(amount) {
                this.health -= amount;
                return this.health <= 0;
            }
        }
        
        class Bullet {
            constructor(x, y, speedY, color) {
                this.x = x;
                this.y = y;
                this.width = 4;
                this.height = 10;
                this.speedY = speedY;
                this.color = color;
            }
            
            update() {
                this.y += this.speedY;
            }
            
            draw(ctx) {
                ctx.fillStyle = this.color;
                ctx.fillRect(this.x, this.y, this.width, this.height);
                
                ctx.shadowBlur = 10;
                ctx.shadowColor = this.color;
                ctx.fillRect(this.x, this.y, this.width, this.height);
                ctx.shadowBlur = 0;
            }
        }
        
        class Particle {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.vx = (Math.random() - 0.5) * 8;
                this.vy = (Math.random() - 0.5) * 8;
                this.size = Math.random() * 4 + 2;
                this.color = color;
                this.life = 1.0;
                this.decay = Math.random() * 0.02 + 0.01;
            }
            
            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.life -= this.decay;
                return this.life > 0;
            }
            
            draw(ctx) {
                ctx.globalAlpha = this.life;
                ctx.fillStyle = this.color;
                ctx.fillRect(this.x, this.y, this.size, this.size);
                ctx.globalAlpha = 1.0;
            }
        }
        
        class Star {
            constructor(x, y, speed) {
                this.x = x;
                this.y = y;
                this.speed = speed;
                this.size = Math.random() * 2 + 1;
            }
            
            update(canvasHeight) {
                this.y += this.speed;
                if (this.y > canvasHeight) {
                    this.y = 0;
                    this.x = Math.random() * 800;
                }
            }
            
            draw(ctx) {
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(this.x, this.y, this.size, this.size);
            }
        }
        
        class Game {
            constructor(canvasId) {
                this.canvas = document.getElementById(canvasId);
                this.ctx = this.canvas.getContext('2d');
                this.canvas.width = 800;
                this.canvas.height = 600;
                
                this.player = new Player(375, 500);
                this.enemies = [];
                this.particles = [];
                this.stars = [];
                
                this.keys = {};
                this.gameOver = false;
                this.paused = false;
                this.wave = 1;
                this.enemySpawnTimer = 0;
                this.enemySpawnInterval = 120;
                
                this.initStars();
                this.setupControls();
                this.animate();
            }
            
            initStars() {
                for (let i = 0; i < 100; i++) {
                    this.stars.push(new Star(
                        Math.random() * 800,
                        Math.random() * 600,
                        Math.random() * 2 + 0.5
                    ));
                }
            }
            
            setupControls() {
                window.addEventListener('keydown', (e) => {
                    this.keys[e.key] = true;
                    if (e.key === ' ') {
                        e.preventDefault();
                        if (!this.gameOver && !this.paused) {
                            this.player.shoot();
                        }
                    }
                });
                
                window.addEventListener('keyup', (e) => {
                    this.keys[e.key] = false;
                });
            }
            
            spawnEnemy() {
                const x = Math.random() * (800 - 40);
                const type = Math.random() > 0.9 ? 'boss' : 'normal';
                this.enemies.push(new Enemy(x, -40, type));
            }
            
            createExplosion(x, y, color) {
                for (let i = 0; i < 20; i++) {
                    this.particles.push(new Particle(x, y, color));
                }
            }
            
            checkCollisions() {
                for (let enemy of this.enemies) {
                    for (let bullet of this.player.bullets) {
                        if (this.collision(bullet, enemy)) {
                            if (enemy.takeDamage(10)) {
                                this.createExplosion(enemy.x + 20, enemy.y + 20, '#ff6b6b');
                                this.enemies = this.enemies.filter(e => e !== enemy);
                                this.player.score += enemy.type === 'boss' ? 100 : 10;
                            }
                            this.player.bullets = this.player.bullets.filter(b => b !== bullet);
                        }
                    }
                }
                
                for (let enemy of this.enemies) {
                    for (let bullet of enemy.bullets) {
                        if (this.collision(bullet, this.player)) {
                            this.player.takeDamage(5);
                            enemy.bullets = enemy.bullets.filter(b => b !== bullet);
                            this.createExplosion(this.player.x + 25, this.player.y + 25, '#00ff00');
                        }
                    }
                }
                
                for (let enemy of this.enemies) {
                    if (this.collision(enemy, this.player)) {
                        this.player.takeDamage(20);
                        this.createExplosion(enemy.x + 20, enemy.y + 20, '#ff6b6b');
                        this.enemies = this.enemies.filter(e => e !== enemy);
                    }
                }
            }
            
            collision(obj1, obj2) {
                return obj1.x < obj2.x + obj2.width &&
                       obj1.x + obj1.width > obj2.x &&
                       obj1.y < obj2.y + obj2.height &&
                       obj1.y + obj1.height > obj2.y;
            }
            
            update() {
                if (this.gameOver || this.paused) return;
                
                for (let star of this.stars) {
                    star.update(600);
                }
                
                if (this.keys['ArrowLeft'] || this.keys['a']) this.player.moveLeft();
                if (this.keys['ArrowRight'] || this.keys['d']) this.player.moveRight(800);
                if (this.keys['ArrowUp'] || this.keys['w']) this.player.moveUp();
                if (this.keys['ArrowDown'] || this.keys['s']) this.player.moveDown(600);
                
                this.player.update(600);
                
                this.enemySpawnTimer++;
                if (this.enemySpawnTimer > this.enemySpawnInterval) {
                    this.spawnEnemy();
                    this.enemySpawnTimer = 0;
                }
                
                this.enemies = this.enemies.filter(enemy => {
                    enemy.update(600);
                    return enemy.y < 650;
                });
                
                this.particles = this.particles.filter(p => p.update());
                
                this.checkCollisions();
                
                if (!this.player.isAlive()) {
                    this.gameOver = true;
                }
                
                this.updateUI();
            }
            
            updateUI() {
                document.getElementById('scoreDisplay').textContent = this.player.score;
                document.getElementById('healthDisplay').textContent = this.player.health;
                document.getElementById('enemiesDisplay').textContent = this.enemies.length;
                document.getElementById('waveDisplay').textContent = this.wave;
            }
            
            draw() {
                this.ctx.fillStyle = '#000';
                this.ctx.fillRect(0, 0, 800, 600);
                
                for (let star of this.stars) {
                    star.draw(this.ctx);
                }
                
                for (let particle of this.particles) {
                    particle.draw(this.ctx);
                }
                
                if (this.player.isAlive()) {
                    this.player.draw(this.ctx);
                }
                
                for (let enemy of this.enemies) {
                    enemy.draw(this.ctx);
                }
                
                this.drawUI();
                
                if (this.gameOver) {
                    this.drawGameOver();
                }
            }
            
            drawUI() {
                this.ctx.fillStyle = '#fff';
                this.ctx.font = '20px Arial';
                this.ctx.fillText(`Score: ${this.player.score}`, 10, 30);
                this.ctx.fillText(`Health: ${this.player.health}`, 10, 60);
                this.ctx.fillText(`Wave: ${this.wave}`, 10, 90);
            }
            
            drawGameOver() {
                this.ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                this.ctx.fillRect(0, 0, 800, 600);
                
                this.ctx.fillStyle = '#ff0000';
                this.ctx.font = '60px Arial';
                this.ctx.textAlign = 'center';
                this.ctx.fillText('GAME OVER', 400, 250);
                
                this.ctx.fillStyle = '#fff';
                this.ctx.font = '30px Arial';
                this.ctx.fillText(`Final Score: ${this.player.score}`, 400, 320);
                this.ctx.fillText('Press R to Restart', 400, 370);
                
                this.ctx.textAlign = 'left';
            }
            
            animate() {
                this.update();
                this.draw();
                requestAnimationFrame(() => this.animate());
            }
            
            restart() {
                this.player = new Player(375, 500);
                this.enemies = [];
                this.particles = [];
                this.gameOver = false;
                this.wave = 1;
            }
        }
        
        const game = new Game('gameCanvas');
        
        window.addEventListener('keydown', (e) => {
            if (e.key === 'r' || e.key === 'R') {
                game.restart();
            }
        });
    </script>
</body>
</html>

