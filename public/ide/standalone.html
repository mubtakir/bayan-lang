<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ®Ÿäÿ¶ÿ© ÿ™ÿ∑ŸàŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜ - Bayan IDE (Standalone)</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Fira+Code:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- CodeMirror 6 from CDN -->
    <script type="module">
        import {EditorView, basicSetup} from "https://cdn.jsdelivr.net/npm/codemirror@6.0.1/dist/index.js"
        import {javascript} from "https://cdn.jsdelivr.net/npm/@codemirror/lang-javascript@6.2.1/dist/index.js"
        import {oneDark} from "https://cdn.jsdelivr.net/npm/@codemirror/theme-one-dark@6.1.2/dist/index.js"
        
        window.CodeMirrorModules = {
            EditorView,
            basicSetup,
            javascript,
            oneDark
        };
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 1400px;
            width: 100%;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .toolbar {
            background: #f5f5f5;
            padding: 15px 30px;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
            border-bottom: 2px solid #e0e0e0;
        }

        .toolbar label {
            font-weight: 600;
            color: #333;
        }

        .toolbar select {
            padding: 8px 15px;
            border: 2px solid #667eea;
            border-radius: 8px;
            background: white;
            color: #333;
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toolbar select:hover {
            border-color: #764ba2;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }

        .toolbar button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-run {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-run:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-save {
            background: #10b981;
            color: white;
        }

        .btn-save:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.4);
        }

        .btn-clear {
            background: #ef4444;
            color: white;
        }

        .btn-clear:hover {
            background: #dc2626;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(239, 68, 68, 0.4);
        }

        .btn-examples {
            background: #f59e0b;
            color: white;
        }

        .btn-examples:hover {
            background: #d97706;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 158, 11, 0.4);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0;
        }

        .editor-container {
            padding: 20px;
            background: #fafafa;
        }

        #editor {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            background: white;
            min-height: 500px;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            padding: 15px;
            direction: ltr;
            text-align: left;
        }

        .output-container {
            padding: 20px;
            background: #1e1e1e;
            color: #d4d4d4;
            border-top: 2px solid #333;
        }

        .output-header {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 15px;
            color: #10b981;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        #output {
            background: #0d1117;
            border: 2px solid #30363d;
            border-radius: 10px;
            padding: 20px;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.8;
            white-space: pre-wrap;
            word-wrap: break-word;
            direction: ltr;
            text-align: left;
        }

        .output-line {
            margin-bottom: 8px;
            padding: 5px;
            border-left: 3px solid #10b981;
            padding-left: 10px;
        }

        .output-error {
            color: #ef4444;
            border-left-color: #ef4444;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .toolbar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .toolbar button {
                width: 100%;
                justify-content: center;
            }
        }

        .examples-panel {
            display: none;
            padding: 20px;
            background: #f9fafb;
            border-bottom: 2px solid #e0e0e0;
        }

        .examples-panel.active {
            display: block;
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .example-btn {
            padding: 15px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            color: #667eea;
        }

        .example-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üé® ÿ®Ÿäÿ¶ÿ© ÿ™ÿ∑ŸàŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜ</h1>
            <p>Bayan Programming Language - Visual IDE</p>
        </div>

        <!-- Toolbar -->
        <div class="toolbar">
            <label for="theme-select">ÿßŸÑÿ≥ŸÖÿ© / Theme:</label>
            <select id="theme-select">
                <option value="light">ŸÅÿßÿ™ÿ≠ / Light</option>
                <option value="dark">ÿØÿßŸÉŸÜ / Dark</option>
            </select>

            <button class="btn-run" onclick="runCode()">
                <span>‚ñ∂Ô∏è</span>
                <span>ÿ™ÿ¥ÿ∫ŸäŸÑ / Run</span>
            </button>

            <button class="btn-save" onclick="saveCode()">
                <span>üíæ</span>
                <span>ÿ≠ŸÅÿ∏ / Save</span>
            </button>

            <button class="btn-clear" onclick="clearEditor()">
                <span>üóëÔ∏è</span>
                <span>ŸÖÿ≥ÿ≠ / Clear</span>
            </button>

            <button class="btn-examples" onclick="toggleExamples()">
                <span>üìö</span>
                <span>ÿ£ŸÖÿ´ŸÑÿ© / Examples</span>
            </button>
        </div>

        <!-- Examples Panel -->
        <div class="examples-panel" id="examples-panel">
            <h3 style="margin-bottom: 10px;">ÿßÿÆÿ™ÿ± ŸÖÿ´ÿßŸÑÿßŸã / Choose an Example:</h3>
            <div class="examples-grid">
                <div class="example-btn" onclick="loadExample('hello')">ŸÖÿ±ÿ≠ÿ®ÿßŸã / Hello</div>
                <div class="example-btn" onclick="loadExample('calculator')">ÿ¢ŸÑÿ© ÿ≠ÿßÿ≥ÿ®ÿ© / Calculator</div>
                <div class="example-btn" onclick="loadExample('baserah')">ÿ®ÿµŸäÿ±ÿ© AI / Baserah AI</div>
                <div class="example-btn" onclick="loadExample('class')">ÿµŸÜŸÅ / Class</div>
                <div class="example-btn" onclick="loadExample('logic')">ŸÖŸÜÿ∑ŸÇ / Logic</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Editor -->
            <div class="editor-container">
                <textarea id="editor" spellcheck="false">// ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ÿ®Ÿäÿ¶ÿ© ÿ™ÿ∑ŸàŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜ!
// Welcome to Bayan IDE!

// ŸÖÿ´ÿßŸÑ ÿ®ÿ≥Ÿäÿ∑ - Simple Example
ÿßÿ∑ÿ®ÿπ('ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ÿßŸÑÿπÿßŸÑŸÖ!');
print('Hello World!');

// ÿØÿßŸÑÿ© - Function
ÿØÿßŸÑÿ© ÿ¨ŸÖÿπ(ÿ£, ÿ®) {
    ÿßÿ±ÿ¨ÿπ ÿ£ + ÿ®;
}

ŸÖÿ™ÿ∫Ÿäÿ± ŸÜÿ™Ÿäÿ¨ÿ© = ÿ¨ŸÖÿπ(5, 3);
ÿßÿ∑ÿ®ÿπ('ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©: ' + ŸÜÿ™Ÿäÿ¨ÿ©);
</textarea>
            </div>

            <!-- Output -->
            <div class="output-container">
                <div class="output-header">
                    <span>üì§</span>
                    <span>ÿßŸÑŸÖÿÆÿ±ÿ¨ÿßÿ™ / Output</span>
                </div>
                <div id="output"></div>
            </div>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p style="margin-top: 15px;">ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ... / Running...</p>
        </div>
    </div>

    <script>
        // Bayan Keywords for syntax highlighting
        const bayanKeywords = {
            // Arabic
            'ÿßÿ∑ÿ®ÿπ': 'print',
            'ÿØÿßŸÑÿ©': 'function',
            'ÿßÿ±ÿ¨ÿπ': 'return',
            'ŸÖÿ™ÿ∫Ÿäÿ±': 'let',
            'ÿ´ÿßÿ®ÿ™': 'const',
            'ÿ•ÿ∞ÿß': 'if',
            'Ÿàÿ•ŸÑÿß': 'else',
            'ÿ®ŸäŸÜŸÖÿß': 'while',
            'ŸÑŸÉŸÑ': 'for',
            'ÿµŸÜŸÅ': 'class',
            'ÿ¨ÿØŸäÿØ': 'new',
            'Ÿáÿ∞ÿß': 'this',
            
            // Baserah AI
            'ŸÖÿπÿßÿØŸÑÿ©_ÿ£ŸÖ': 'mother_equation',
            'ÿßŸÜÿ™ŸÇŸÑ': 'Go',
            'ÿ£ÿ´ÿ±': 'Affect',
            'ÿ≠ŸàŸÑ': 'Transform',
            'ÿ£ŸÜÿ¥ÿ¶': 'Create',
            'ÿßÿØŸÖÿ¨': 'Merge',
            'ŸÅŸÉŸÉ': 'Decompose',
            'ÿ™ŸÅÿßÿπŸÑ': 'Interact'
        };

        // Examples
        const examples = {
            hello: `// ŸÖÿ´ÿßŸÑ: ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ÿßŸÑÿπÿßŸÑŸÖ
// Example: Hello World

ÿßÿ∑ÿ®ÿπ('ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ÿßŸÑÿπÿßŸÑŸÖ!');
print('Hello World!');

ÿßÿ∑ÿ®ÿπ('ÿ£ŸáŸÑÿßŸã ÿ®ŸÉ ŸÅŸä ŸÑÿ∫ÿ© ÿßŸÑÿ®ŸäÿßŸÜ');
print('Welcome to Bayan Language');`,

            calculator: `// ŸÖÿ´ÿßŸÑ: ÿ¢ŸÑÿ© ÿ≠ÿßÿ≥ÿ®ÿ©
// Example: Calculator

ÿµŸÜŸÅ ÿ¢ŸÑÿ©_ÿ≠ÿßÿ≥ÿ®ÿ© {
    ÿØÿßŸÑÿ© ÿ¨ŸÖÿπ(ÿ£, ÿ®) {
        ÿßÿ±ÿ¨ÿπ ÿ£ + ÿ®;
    }
    
    ÿØÿßŸÑÿ© ÿ∑ÿ±ÿ≠(ÿ£, ÿ®) {
        ÿßÿ±ÿ¨ÿπ ÿ£ - ÿ®;
    }
    
    ÿØÿßŸÑÿ© ÿ∂ÿ±ÿ®(ÿ£, ÿ®) {
        ÿßÿ±ÿ¨ÿπ ÿ£ * ÿ®;
    }
    
    ÿØÿßŸÑÿ© ŸÇÿ≥ŸÖÿ©(ÿ£, ÿ®) {
        ÿ•ÿ∞ÿß (ÿ® === 0) {
            ÿßÿ±ÿ¨ÿπ 'ÿÆÿ∑ÿ£: ÿßŸÑŸÇÿ≥ŸÖÿ© ÿπŸÑŸâ ÿµŸÅÿ±';
        }
        ÿßÿ±ÿ¨ÿπ ÿ£ / ÿ®;
    }
}

ŸÖÿ™ÿ∫Ÿäÿ± ÿ≠ÿßÿ≥ÿ®ÿ© = ÿ¨ÿØŸäÿØ ÿ¢ŸÑÿ©_ÿ≠ÿßÿ≥ÿ®ÿ©();
ÿßÿ∑ÿ®ÿπ('5 + 3 = ' + ÿ≠ÿßÿ≥ÿ®ÿ©.ÿ¨ŸÖÿπ(5, 3));
ÿßÿ∑ÿ®ÿπ('10 - 4 = ' + ÿ≠ÿßÿ≥ÿ®ÿ©.ÿ∑ÿ±ÿ≠(10, 4));
ÿßÿ∑ÿ®ÿπ('6 * 7 = ' + ÿ≠ÿßÿ≥ÿ®ÿ©.ÿ∂ÿ±ÿ®(6, 7));
ÿßÿ∑ÿ®ÿπ('20 / 4 = ' + ÿ≠ÿßÿ≥ÿ®ÿ©.ŸÇÿ≥ŸÖÿ©(20, 4));`,

            baserah: `// ŸÖÿ´ÿßŸÑ: ŸÜÿ∏ÿßŸÖ ÿ®ÿµŸäÿ±ÿ© AI
// Example: Baserah AI System

// ÿ•ŸÜÿ¥ÿßÿ° ŸÉÿ±ÿ© - Create a ball
ŸÖÿ™ÿ∫Ÿäÿ± ŸÉÿ±ÿ© = ŸÖÿπÿßÿØŸÑÿ©_ÿ£ŸÖ("ŸÉÿ±ÿ©_1");
ŸÉÿ±ÿ©.ÿÆÿßÿµŸäÿ©_ÿ´ÿßÿ®ÿ™ÿ©("ŸÖÿßÿØÿ©", "ÿ¨ŸÑÿØ");
ŸÉÿ±ÿ©.ÿÆÿßÿµŸäÿ©_ÿ´ÿßÿ®ÿ™ÿ©("ŸÑŸàŸÜ", "ÿ£ÿ®Ÿäÿ∂");

ŸÉÿ±ÿ©.ÿ≠ÿßŸÑÿ©("ŸÖŸàŸÇÿπ", "ÿ£ÿ±ÿ∂");
ŸÉÿ±ÿ©.ÿ≠ÿßŸÑÿ©("ÿ≥ÿ±ÿπÿ©", 0);

// ÿ•ŸÜÿ¥ÿßÿ° ŸÑÿßÿπÿ® - Create a player
ŸÖÿ™ÿ∫Ÿäÿ± ŸÑÿßÿπÿ® = ŸÖÿπÿßÿØŸÑÿ©_ÿ£ŸÖ("ŸÑÿßÿπÿ®_1");
ŸÑÿßÿπÿ®.ÿÆÿßÿµŸäÿ©_ÿ´ÿßÿ®ÿ™ÿ©("ÿßÿ≥ŸÖ", "ÿ£ÿ≠ŸÖÿØ");

// ÿ™ÿ∑ÿ®ŸäŸÇ ÿßŸÑŸÖÿ¥ÿ∫ŸÑÿßÿ™ - Apply operators
ÿßŸÜÿ™ŸÇŸÑ(ŸÉÿ±ÿ©, "ÿ£ÿ±ÿ∂", "ŸáŸàÿßÿ°");
ÿ£ÿ´ÿ±(ŸÑÿßÿπÿ®, ŸÉÿ±ÿ©, "ÿ∂ÿ±ÿ®ÿ©", 0.8);

ÿßÿ∑ÿ®ÿπ("ŸÖŸàŸÇÿπ ÿßŸÑŸÉÿ±ÿ©: " + ŸÉÿ±ÿ©.ÿ≠ÿßŸÑÿ©("ŸÖŸàŸÇÿπ"));
ÿßÿ∑ÿ®ÿπ("ÿ≥ÿ±ÿπÿ© ÿßŸÑŸÉÿ±ÿ©: " + ŸÉÿ±ÿ©.ÿ≠ÿßŸÑÿ©("ÿ≥ÿ±ÿπÿ©"));`,

            class: `// ŸÖÿ´ÿßŸÑ: ÿßŸÑÿ£ÿµŸÜÿßŸÅ
// Example: Classes

ÿµŸÜŸÅ ÿ∑ÿßŸÑÿ® {
    ŸÖŸÜÿ¥ÿ¶(ÿßÿ≥ŸÖ, ÿπŸÖÿ±, ÿØÿ±ÿ¨ÿ©) {
        Ÿáÿ∞ÿß.ÿßÿ≥ŸÖ = ÿßÿ≥ŸÖ;
        Ÿáÿ∞ÿß.ÿπŸÖÿ± = ÿπŸÖÿ±;
        Ÿáÿ∞ÿß.ÿØÿ±ÿ¨ÿ© = ÿØÿ±ÿ¨ÿ©;
    }
    
    ÿØÿßŸÑÿ© ŸÜÿßÿ¨ÿ≠() {
        ÿßÿ±ÿ¨ÿπ Ÿáÿ∞ÿß.ÿØÿ±ÿ¨ÿ© >= 60;
    }
    
    ÿØÿßŸÑÿ© ŸÖÿπŸÑŸàŸÖÿßÿ™() {
        ÿßÿ±ÿ¨ÿπ 'ÿßŸÑÿßÿ≥ŸÖ: ' + Ÿáÿ∞ÿß.ÿßÿ≥ŸÖ + ', ÿßŸÑÿπŸÖÿ±: ' + Ÿáÿ∞ÿß.ÿπŸÖÿ± + ', ÿßŸÑÿØÿ±ÿ¨ÿ©: ' + Ÿáÿ∞ÿß.ÿØÿ±ÿ¨ÿ©;
    }
}

ŸÖÿ™ÿ∫Ÿäÿ± ÿ∑ÿßŸÑÿ®1 = ÿ¨ÿØŸäÿØ ÿ∑ÿßŸÑÿ®('ÿ£ÿ≠ŸÖÿØ', 20, 85);
ŸÖÿ™ÿ∫Ÿäÿ± ÿ∑ÿßŸÑÿ®2 = ÿ¨ÿØŸäÿØ ÿ∑ÿßŸÑÿ®('ŸÅÿßÿ∑ŸÖÿ©', 19, 92);

ÿßÿ∑ÿ®ÿπ(ÿ∑ÿßŸÑÿ®1.ŸÖÿπŸÑŸàŸÖÿßÿ™());
ÿßÿ∑ÿ®ÿπ('ŸÜÿßÿ¨ÿ≠ÿü ' + ÿ∑ÿßŸÑÿ®1.ŸÜÿßÿ¨ÿ≠());

ÿßÿ∑ÿ®ÿπ(ÿ∑ÿßŸÑÿ®2.ŸÖÿπŸÑŸàŸÖÿßÿ™());
ÿßÿ∑ÿ®ÿπ('ŸÜÿßÿ¨ÿ≠ÿü ' + ÿ∑ÿßŸÑÿ®2.ŸÜÿßÿ¨ÿ≠());`,

            logic: `// ŸÖÿ´ÿßŸÑ: ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© ÿßŸÑŸÖŸÜÿ∑ŸÇŸäÿ©
// Example: Logic Programming

// ÿ≠ŸÇÿßÿ¶ŸÇ - Facts
ÿ≠ŸÇŸäŸÇÿ©('ÿ£ÿ®', 'ÿ£ÿ≠ŸÖÿØ', 'ŸÖÿ≠ŸÖÿØ');
ÿ≠ŸÇŸäŸÇÿ©('ÿ£ÿ®', 'ÿ£ÿ≠ŸÖÿØ', 'ŸÅÿßÿ∑ŸÖÿ©');
ÿ≠ŸÇŸäŸÇÿ©('ÿ£ÿ®', 'ÿπŸÑŸä', 'ÿ£ÿ≠ŸÖÿØ');

// ŸÇŸàÿßÿπÿØ - Rules
ŸÇÿßÿπÿØÿ©('ÿ¨ÿØ', '?ÿ≥', '?ÿµ') {
    ÿ≠ŸÇŸäŸÇÿ©('ÿ£ÿ®', '?ÿ≥', '?ÿπ');
    ÿ≠ŸÇŸäŸÇÿ©('ÿ£ÿ®', '?ÿπ', '?ÿµ');
}

// ÿßÿ≥ÿ™ÿπŸÑÿßŸÖ - Query
ŸÖÿ™ÿ∫Ÿäÿ± ŸÜÿ™Ÿäÿ¨ÿ© = ÿßÿ≥ÿ™ÿπŸÑÿßŸÖ('ÿ¨ÿØ', 'ÿπŸÑŸä', '?ŸÖŸÜ');
ÿßÿ∑ÿ®ÿπ('ÿ£ÿ≠ŸÅÿßÿØ ÿπŸÑŸä: ' + ŸÜÿ™Ÿäÿ¨ÿ©);`
        };

        // Load example
        function loadExample(name) {
            const editor = document.getElementById('editor');
            editor.value = examples[name] || examples.hello;
            document.getElementById('examples-panel').classList.remove('active');
        }

        // Toggle examples panel
        function toggleExamples() {
            const panel = document.getElementById('examples-panel');
            panel.classList.toggle('active');
        }

        // Run code
        function runCode() {
            const code = document.getElementById('editor').value;
            const output = document.getElementById('output');
            output.innerHTML = '';

            try {
                // Translate Bayan to JavaScript
                let jsCode = code;
                
                // Replace Arabic keywords with JavaScript
                for (const [arabic, english] of Object.entries(bayanKeywords)) {
                    const regex = new RegExp(arabic, 'g');
                    jsCode = jsCode.replace(regex, english);
                }

                // Capture console.log output
                const logs = [];
                const originalLog = console.log;
                console.log = function(...args) {
                    logs.push(args.join(' '));
                    originalLog.apply(console, args);
                };

                // Execute code
                eval(jsCode);

                // Restore console.log
                console.log = originalLog;

                // Display output
                if (logs.length > 0) {
                    logs.forEach(log => {
                        const line = document.createElement('div');
                        line.className = 'output-line';
                        line.textContent = log;
                        output.appendChild(line);
                    });
                } else {
                    output.innerHTML = '<div class="output-line">‚úÖ ÿ™ŸÖ ÿßŸÑÿ™ŸÜŸÅŸäÿ∞ ÿ®ŸÜÿ¨ÿßÿ≠ / Executed successfully</div>';
                }
            } catch (error) {
                output.innerHTML = `<div class="output-line output-error">‚ùå ÿÆÿ∑ÿ£ / Error: ${error.message}</div>`;
            }
        }

        // Save code
        function saveCode() {
            const code = document.getElementById('editor').value;
            const blob = new Blob([code], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'code.bn';
            a.click();
            URL.revokeObjectURL(url);
            
            const output = document.getElementById('output');
            output.innerHTML = '<div class="output-line">üíæ ÿ™ŸÖ ÿßŸÑÿ≠ŸÅÿ∏ / Saved successfully</div>';
        }

        // Clear editor
        function clearEditor() {
            if (confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ŸÖÿ≥ÿ≠ ÿßŸÑŸÉŸàÿØÿü / Clear code?')) {
                document.getElementById('editor').value = '';
                document.getElementById('output').innerHTML = '';
            }
        }

        // Theme switcher
        document.getElementById('theme-select').addEventListener('change', function(e) {
            const theme = e.target.value;
            const editor = document.getElementById('editor');
            
            if (theme === 'dark') {
                editor.style.background = '#0d1117';
                editor.style.color = '#c9d1d9';
                editor.style.borderColor = '#30363d';
            } else {
                editor.style.background = 'white';
                editor.style.color = '#24292f';
                editor.style.borderColor = '#e0e0e0';
            }
        });

        // Auto-run on Ctrl+Enter
        document.getElementById('editor').addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                runCode();
            }
        });
    </script>
</body>
</html>

